# CryptoPay Rust SDK

![Rust Version](https://img.shields.io/badge/rust-1.91+-blue.svg)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Telegram](https://img.shields.io/badge/chat-Telegram-blue?logo=telegram)](https://t.me/ZeroSerivce)

## 🌟 Welcome to CryptoPay Rust SDK

CryptoPay Rust SDK is a professional cryptocurrency service SDK implemented in Rust, providing user registration, wallet generation, deposit callback notifications, withdrawals, and other functions.

It has been proven safe, stable, and easy to extend through long-term use.

## ⚙️ Installation

```bash
git clone github.com/zerospace-ai/pay-sdk-rust.git
```

Note: Compilation requires rustc 1.91.0 🛠️.
## 🚀 Quick Start
### 1. ⚙️ config.yaml

```yaml
ApiKey: "your_api_key"
ApiSecret: "your_api_secret"
PlatformPubKey: "platform_public_key"
PlatformRiskPubKey: "platform_risk_public_key"
RsaPrivateKey: "your_rsa_private_key"
```

Field descriptions:

• 🔑 ApiKey / ApiSecret:

Assigned by the platform when registering a merchant account, used for API request authentication ✅.

• 🛡️ PlatformPubKey / PlatformRiskPubKey:

Public keys provided by the platform, used to verify data or callback signatures returned by the platform, ensuring reliable information sources. PlatformRiskPubKey is mainly used for risk control related event verification ⚠️.

• 🗝️ RsaPrivateKey:

RSA private key generated by the merchant, used to sign requests, ensuring the request content is not tampered with. Important note: The private key must be kept confidential 🔒, do not disclose it 🚫.

### 2. Generate RSA Key Pair 🔐

Using an RSA key pair to sign requests ensures data security. The following describes how to generate a key pair and extract key strings on different operating systems.

#### 2.1 Generate Key Pair Using OpenSSL

```bash
# Generate 2048-bit private key
openssl genrsa -out rsa_private_key.pem 2048

# Generate public key from private key
openssl rsa -in rsa_private_key.pem -out rsa_public_key.pem -pubout
```

> 💡 Tip: The generated public key needs to remove the beginning and end -----BEGIN PUBLIC KEY----- / -----END PUBLIC KEY-----, remove line breaks, convert to a single line string and submit to the platform.
> 
> Extract key strings and submit the public key to the platform 📤.
>
>The commands for generating RSA key pairs on Mac and Windows are the same as on Linux.

#### 2.2 Extract Key Strings 🔑

On Mac/Linux or Git Bash/WSL/Cygwin:

```bash
# Extract private key string
grep -v '^-----' rsa_private_key.pem | tr -d '\n'; echo

# Extract public key string
grep -v '^-----' rsa_public_key.pem | tr -d '\n'; echo
```

Windows

PowerShell extract private and public key strings:

```powershell
# Private key
Write-Output ((Get-Content rsa_private_key.pem | Where-Object {$_ -notmatch "^-----"}) -join "")

# Public key
Write-Output ((Get-Content rsa_public_key.pem | Where-Object {$_ -notmatch "^-----"}) -join "")
```

> ⚠️ Note: The generated private key must be kept secure and not leaked.


### 🛠️ 3. Create SDK Instance

```rust
    let cfg = load_config("./config.yaml")?;

    let sdk_config = SDKConfig {
        api_key: cfg.api_key,
        api_secret: cfg.api_secret,
        platform_pub_key: cfg.platform_pub_key,
        platform_risk_pub_key: cfg.platform_risk_pub_key,
        rsa_private_key: cfg.rsa_private_key,
    };

    let sdk = Sdk::new(sdk_config);
    
```

## 🔑 Key Concepts

- 🆔 **OpenId**: User's unique identifier, for example "HASH1756194148".
- 🔐 **RSA Key**: Used for signing and verifying requests to ensure data security.
- ✍️ **API Signature**: Use MD5 and RSA algorithms to sign requests, ensuring they are not tampered with.

For detailed API descriptions, please refer to [🧩 api-reference.md](./api-reference.md) and [🧩 examples.md](./examples.md).

For Authentication & Security, please refer to [🧩 authentication.md](./authentication.md)

## 📎 Appendix

For more detailed references, please check the [Appendix](./appendix.md) document, which includes the following content:

- [🧩 ChainID List](./appendix.md#-chainid-list)
- [🏷️ Token Types](./appendix.md#-token-type)
- [🌐 Public Information](./appendix.md#-public-information)
- [🔰 Token Basic Information](./appendix.md#-token-basic-information)

> 💡 **Tip**: The appendix provides supported chain information, token types, and public token data, making it easier for developers to integrate and use the SDK.

## 📞 Contact

If you have any questions, please contact the service provider.  
💬 Telegram: [@ZeroSerivce](https://t.me/ZeroSerivce)
